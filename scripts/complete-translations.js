const fs = require('fs');

// Read English file as source
const en = JSON.parse(fs.readFileSync('src/i18n/messages/en.json', 'utf8'));

// Comprehensive translation mappings - Portuguese
const ptBRTranslations = {
  // Common
  'Today': 'Hoje',
  'Last 7 days': 'Últimos 7 dias',
  'Last 30 days': 'Últimos 30 dias',
  'Last 12 months': 'Últimos 12 meses',
  'Time Period': 'Período',
  'Category': 'Categoria',
  'All Categories': 'Todas as Categorias',
  'Event Type': 'Tipo de Evento',
  'All Event Types': 'Todos os Tipos de Evento',
  'Refresh': 'Atualizar',
  'English': 'Inglês',
  'Português': 'Português',
  'Español': 'Espanhol',
  
  // Analytics - LTV
  'Loading LTV analytics...': 'Carregando analytics de LTV...',
  'Failed to load LTV analytics': 'Falha ao carregar analytics de LTV',
  'Average LTV': 'LTV Médio',
  'Customer lifetime value': 'Valor do ciclo de vida do cliente',
  'Total Customers': 'Total de Clientes',
  'Unique customers analyzed': 'Clientes únicos analisados',
  'Avg Orders/Customer': 'Média de Pedidos/Cliente',
  'Average purchase frequency': 'Frequência média de compra',
  'Recurring Rate': 'Taxa de Recorrência',
  '{count} repeat customers': '{count} clientes recorrentes',
  'LTV Distribution': 'Distribuição de LTV',
  'Customer segments by lifetime value': 'Segmentos de clientes por valor de vida',
  'LTV by Customer Segment': 'LTV por Segmento de Cliente',
  'Average LTV by customer type': 'LTV médio por tipo de cliente',
  'Avg LTV': 'LTV Médio',
  'Customers': 'Clientes',
  'Revenue': 'Receita',
  'Top Customers by LTV': 'Principais Clientes por LTV',
  'Highest lifetime value customers': 'Clientes com maior valor de vida',
  'CUSTOMER': 'CLIENTE',
  'ORDERS': 'PEDIDOS',
  'LTV': 'LTV',
  'AVG ORDER VALUE': 'VALOR MÉDIO DO PEDIDO',
  'FREQUENCY': 'FREQUÊNCIA',
  'STATUS': 'STATUS',
  'Recurring': 'Recorrente',
  'New': 'Novo',
  'orders/mo': 'pedidos/mês',
  'Anonymous': 'Anônimo',
  'No Customer Data': 'Sem Dados de Clientes',
  'No customer data available in the selected period': 'Nenhum dado de cliente disponível no período selecionado',
  'No customers found': 'Nenhum cliente encontrado',
  'Try selecting a different time period.': 'Tente selecionar um período diferente.',
  'High LTV': 'LTV Alto',
  'Medium LTV': 'LTV Médio',
  'Low LTV': 'LTV Baixo',
  
  // Analytics - CAC
  'Loading CAC analytics...': 'Carregando analytics de CAC...',
  'Failed to load CAC analytics': 'Falha ao carregar analytics de CAC',
  'Average CAC': 'CAC Médio',
  'Customer acquisition cost': 'Custo de aquisição de cliente',
  'LTV:CAC Ratio': 'Relação LTV:CAC',
  'Excellent': 'Excelente',
  'Good': 'Bom',
  'Needs Improvement': 'Precisa Melhorar',
  'New Customers': 'Novos Clientes',
  'Acquired in period': 'Adquiridos no período',
  'Total Marketing Spend': 'Gasto Total de Marketing',
  'Estimated spend': 'Gasto estimado',
  'Acquisition Efficiency': 'Eficiência de Aquisição',
  'LTV:CAC Ratio: {ratio}:1': 'Relação LTV:CAC: {ratio}:1',
  'Target: 3:1 or higher': 'Meta: 3:1 ou superior',
  '{ratio}:1 Ratio': 'Relação {ratio}:1',
  '2:1 (Good)': '2:1 (Bom)',
  '3:1 (Excellent)': '3:1 (Excelente)',
  '5:1+': '5:1+',
  'CAC by Acquisition Channel': 'CAC por Canal de Aquisição',
  'Customer acquisition cost by channel': 'Custo de aquisição de cliente por canal',
  'CAC': 'CAC',
  'LTV:CAC': 'LTV:CAC',
  'Conversions': 'Conversões',
  'Channel Performance': 'Desempenho do Canal',
  'Detailed metrics by channel': 'Métricas detalhadas por canal',
  'CHANNEL': 'CANAL',
  'SESSIONS': 'SESSÕES',
  'CONVERSIONS': 'CONVERSÕES',
  'CONVERSION RATE': 'TAXA DE CONVERSÃO',
  'ESTIMATED CAC': 'CAC ESTIMADO',
  'LTV:CAC RATIO': 'RELAÇÃO LTV:CAC',
  'Needs Work': 'Precisa Trabalhar',
  'No Channel Data': 'Sem Dados de Canal',
  'No acquisition channel data available in the selected period': 'Nenhum dado de canal de aquisição disponível no período selecionado',
  'No channel data found': 'Nenhum dado de canal encontrado',
  'Try selecting a different time period.': 'Tente selecionar um período diferente.',
  
  // Analytics - Retention
  'Loading retention analytics...': 'Carregando analytics de retenção...',
  'Failed to load retention analytics': 'Falha ao carregar analytics de retenção',
  'Retention Rate': 'Taxa de Retenção',
  '{count} returning customers': '{count} clientes recorrentes',
  'Churn Rate': 'Taxa de Churn',
  '{count} churned customers': '{count} clientes que deixaram',
  'Avg Purchase Frequency': 'Frequência Média de Compra',
  'Orders per customer': 'Pedidos por cliente',
  'Avg Days Between Orders': 'Média de Dias Entre Pedidos',
  'For returning customers': 'Para clientes recorrentes',
  'New Customers': 'Novos Clientes',
  'First-time buyers': 'Compradores pela primeira vez',
  'Returning Customers': 'Clientes Recorrentes',
  'Repeat buyers': 'Compradores recorrentes',
  'Total Customers': 'Total de Clientes',
  'All customers': 'Todos os clientes',
  'Retention Rates by Period': 'Taxas de Retenção por Período',
  'Customer retention after first purchase': 'Retenção de clientes após a primeira compra',
  'Retention Rate': 'Taxa de Retenção',
  'Cohort Retention Analysis': 'Análise de Retenção por Coorte',
  'Retention rates by customer cohort (month of first purchase)': 'Taxas de retenção por coorte de cliente (mês da primeira compra)',
  'Retention': 'Retenção',
  'Cohort Details': 'Detalhes da Coorte',
  'Detailed retention metrics by cohort': 'Métricas detalhadas de retenção por coorte',
  'COHORT': 'COORTE',
  'CUSTOMERS': 'CLIENTES',
  'D30 RETENTION': 'RETENÇÃO D30',
  'D60 RETENTION': 'RETENÇÃO D60',
  'D90 RETENTION': 'RETENÇÃO D90',
  'No Cohort Data': 'Sem Dados de Coorte',
  'No cohort data available in the selected period': 'Nenhum dado de coorte disponível no período selecionado',
  'No cohorts found': 'Nenhuma coorte encontrada',
  
  // Analytics - Abandonment Prediction
  'Loading abandonment predictions...': 'Carregando predições de abandono...',
  'Failed to load abandonment predictions': 'Falha ao carregar predições de abandono',
  'high-risk session{plural} detected': 'sessão{plural} de alto risco detectada',
  'Consider implementing intervention strategies for these sessions.': 'Considere implementar estratégias de intervenção para essas sessões.',
  'Average Risk Score': 'Score Médio de Risco',
  'sessions analyzed': 'sessões analisadas',
  'High Risk Sessions': 'Sessões de Alto Risco',
  'of total': 'do total',
  'Typical Checkout Time': 'Tempo Típico de Checkout',
  'Based on historical data': 'Baseado em dados históricos',
  'Avg Checkout Time': 'Tempo Médio de Checkout',
  'Actual average time': 'Tempo médio real',
  'Risk Distribution': 'Distribuição de Risco',
  'Sessions by risk level': 'Sessões por nível de risco',
  'Abandonment Rate by Risk Level': 'Taxa de Abandono por Nível de Risco',
  'Actual abandonment rates by predicted risk': 'Taxas reais de abandono por risco previsto',
  'Abandonment Rate': 'Taxa de Abandono',
  'Total': 'Total',
  'Abandoned': 'Abandonado',
  'High Risk Sessions': 'Sessões de Alto Risco',
  'Sessions with high or critical abandonment risk': 'Sessões com risco alto ou crítico de abandono',
  'SESSION': 'SESSÃO',
  'RISK SCORE': 'SCORE DE RISCO',
  'RISK LEVEL': 'NÍVEL DE RISCO',
  'CURRENT STEP': 'ETAPA ATUAL',
  'DURATION': 'DURAÇÃO',
  'ERRORS': 'ERROS',
  'RECOMMENDATIONS': 'RECOMENDAÇÕES',
  'Completed': 'Concluído',
  'Active': 'Ativo',
  'No High Risk Sessions': 'Sem Sessões de Alto Risco',
  'No high-risk sessions detected in the selected period': 'Nenhuma sessão de alto risco detectada no período selecionado',
  'All sessions look good!': 'Todas as sessões estão boas!',
  'No high-risk abandonment patterns detected.': 'Nenhum padrão de abandono de alto risco detectado.',
  'Low': 'Baixo',
  'Medium': 'Médio',
  'High': 'Alto',
  'Critical': 'Crítico',
  
  // Analytics - Cohorts
  'Loading cohorts analysis...': 'Carregando análise de coortes...',
  'Failed to load cohorts analysis': 'Falha ao carregar análise de coortes',
  'Total Cohorts': 'Total de Coortes',
  'Cohorts analyzed': 'Coortes analisadas',
  'Avg {count} per cohort': 'Média de {count} por coorte',
  'Average LTV': 'LTV Médio',
  'Per cohort': 'Por coorte',
  'M1 Retention': 'Retenção M1',
  'First month retention': 'Retenção do primeiro mês',
  'Average Retention Trend': 'Tendência Média de Retenção',
  'Retention rate by period (months since first purchase)': 'Taxa de retenção por período (meses desde a primeira compra)',
  'Retention Rate': 'Taxa de Retenção',
  'Cohort Retention Matrix': 'Matriz de Retenção de Coortes',
  'Retention rates by cohort and period': 'Taxas de retenção por coorte e período',
  'COHORT': 'COORTE',
  'SIZE': 'TAMANHO',
  'AVG LTV': 'LTV MÉDIO',
  'Cohort LTV Comparison': 'Comparação de LTV por Coorte',
  'Average LTV by cohort': 'LTV médio por coorte',
  'Cohort Size': 'Tamanho da Coorte',
  'No Cohort Data': 'Sem Dados de Coorte',
  'No cohort data available in the selected period': 'Nenhum dado de coorte disponível no período selecionado',
  'No cohorts found': 'Nenhuma coorte encontrada',
  'Try selecting a longer time period (month or year).': 'Tente selecionar um período mais longo (mês ou ano).',
  
  // Analytics - Segments
  'Loading segments analysis...': 'Carregando análise de segmentos...',
  'Failed to load segments analysis': 'Falha ao carregar análise de segmentos',
  'Total Customers': 'Total de Clientes',
  'Across all segments': 'Em todos os segmentos',
  'Overall Avg LTV': 'LTV Médio Geral',
  'Average lifetime value': 'Valor médio do ciclo de vida',
  'Average AOV': 'AOV Médio',
  'Average order value': 'Valor médio do pedido',
  'Avg Orders': 'Média de Pedidos',
  'Orders per customer': 'Pedidos por cliente',
  'Customer Segments Distribution': 'Distribuição de Segmentos de Clientes',
  'Percentage of customers in each segment': 'Percentual de clientes em cada segmento',
  'LTV by Segment': 'LTV por Segmento',
  'Average lifetime value and AOV by customer segment': 'Valor médio do ciclo de vida e AOV por segmento de cliente',
  'Avg LTV': 'LTV Médio',
  'Avg AOV': 'AOV Médio',
  'Customers': 'Clientes',
  'Segment Share': 'Participação do Segmento',
  'Total Revenue': 'Receita Total',
  'Segment Details': 'Detalhes do Segmento',
  'Detailed metrics for each customer segment': 'Métricas detalhadas para cada segmento de cliente',
  'SEGMENT': 'SEGMENTO',
  'SEGMENT SHARE': 'PARTICIPAÇÃO DO SEGMENTO',
  'AVG LTV': 'LTV MÉDIO',
  'AVG AOV': 'AOV MÉDIO',
  'AVG ORDERS': 'MÉDIA DE PEDIDOS',
  'No Segment Data': 'Sem Dados de Segmento',
  'No segment data available in the selected period': 'Nenhum dado de segmento disponível no período selecionado',
  'No segments found': 'Nenhum segmento encontrado',
  'Try selecting a different time period.': 'Tente selecionar um período diferente.',
  'VIP Customers': 'Clientes VIP',
  'Frequent Buyers': 'Compradores Frequentes',
  'New Customers': 'Novos Clientes',
  'At-Risk Customers': 'Clientes em Risco',
  'Dormant Customers': 'Clientes Inativos',
  
  // Analytics - Optimization ROI
  'Loading optimization ROI...': 'Carregando ROI de otimização...',
  'Failed to load optimization ROI': 'Falha ao carregar ROI de otimização',
  'Optimization Date': 'Data de Otimização',
  'ROI Summary': 'Resumo de ROI',
  'ROI': 'ROI',
  'Additional Revenue': 'Receita Adicional',
  'Revenue Change': 'Mudança de Receita',
  'increase': 'aumento',
  'decrease': 'redução',
  'Conversion Rate Change': 'Mudança na Taxa de Conversão',
  'Additional Orders': 'Pedidos Adicionais',
  'Orders gained': 'Pedidos ganhos',
  'AOV Change': 'Mudança de AOV',
  'change': 'mudança',
  'Before Period': 'Período Anterior',
  'After Period': 'Período Posterior',
  'Sessions': 'Sessões',
  'Conversions': 'Conversões',
  'Conversion Rate': 'Taxa de Conversão',
  'Revenue': 'Receita',
  'Orders': 'Pedidos',
  'AOV': 'AOV',
  'Impact Summary': 'Resumo de Impacto',
  'Detailed changes breakdown': 'Detalhamento de mudanças',
  'Revenue Impact': 'Impacto na Receita',
  'Conversion Impact': 'Impacto na Conversão',
  'Additional Orders': 'Pedidos Adicionais',
  'additional revenue': 'receita adicional',
  'pp': 'pp',
  
  // Analytics - Friction Score
  'Loading friction score...': 'Carregando índice de fricção...',
  'Failed to load friction score': 'Falha ao carregar índice de fricção',
  'Average Friction Score': 'Índice Médio de Fricção',
  'sessions analyzed': 'sessões analisadas',
  'High Friction Sessions': 'Sessões de Alta Fricção',
  'of total': 'do total',
  'Low Friction Conversion': 'Conversão de Baixa Fricção',
  'High Friction Conversion': 'Conversão de Alta Fricção',
  'Conversion rate': 'Taxa de conversão',
  'Friction Score Trend': 'Tendência do Índice de Fricção',
  'Average friction score and conversion rate over time': 'Índice médio de fricção e taxa de conversão ao longo do tempo',
  'Friction Score': 'Índice de Fricção',
  'Friction Distribution': 'Distribuição de Fricção',
  'Sessions by friction level': 'Sessões por nível de fricção',
  'Friction Breakdown': 'Análise de Fricção',
  'Contributors to friction score': 'Contribuintes para o índice de fricção',
  'High Friction Sessions': 'Sessões de Alta Fricção',
  'Sessions with high or critical friction scores': 'Sessões com índices altos ou críticos de fricção',
  'SESSION': 'SESSÃO',
  'FRICTION SCORE': 'ÍNDICE DE FRICÇÃO',
  'LEVEL': 'NÍVEL',
  'DURATION': 'DURAÇÃO',
  'ERRORS': 'ERROS',
  'BACK NAVS': 'NAVEGAÇÕES VOLTA',
  'CONVERSION': 'CONVERSÃO',
  'Yes': 'Sim',
  'No': 'Não',
  'No High Friction Sessions': 'Sem Sessões de Alta Fricção',
  'No high-friction sessions detected in the selected period': 'Nenhuma sessão de alta fricção detectada no período selecionado',
  'Low friction detected!': 'Baixa fricção detectada!',
  'No high-friction patterns found.': 'Nenhum padrão de alta fricção encontrado.',
  'Low': 'Baixo',
  'Medium': 'Médio',
  'High': 'Alto',
  'Critical': 'Crítico',
  'Time': 'Tempo',
  'Navigation': 'Navegação',
  'Completion': 'Conclusão',
  
  // Analytics - Revenue Forecast
  'Loading revenue forecast...': 'Carregando previsão de receita...',
  'Failed to load revenue forecast': 'Falha ao carregar previsão de receita',
  '7-Day Forecast': 'Previsão de 7 Dias',
  '30-Day Forecast': 'Previsão de 30 Dias',
  '90-Day Forecast': 'Previsão de 90 Dias',
  'Next 7 days': 'Próximos 7 dias',
  'Next 30 days': 'Próximos 30 dias',
  'Next 90 days': 'Próximos 90 dias',
  'Trend': 'Tendência',
  '/day': '/dia',
  'Revenue Forecast': 'Previsão de Receita',
  'Historical data and forecasted revenue with confidence intervals': 'Dados históricos e receita prevista com intervalos de confiança',
  'Historical Revenue': 'Receita Histórica',
  'Forecast': 'Previsão',
  'Upper Bound': 'Limite Superior',
  'Lower Bound': 'Limite Inferior',
  'Forecast Summary': 'Resumo da Previsão',
  'Revenue projections by period': 'Projeções de receita por período',
  'Average Daily Forecast': 'Previsão Média Diária',
  'Historical Summary': 'Resumo Histórico',
  'Past performance metrics': 'Métricas de desempenho passado',
  'Total Historical Revenue': 'Receita Histórica Total',
  'Average Daily Revenue': 'Receita Média Diária',
  'Daily Growth': 'Crescimento Diário',
  'Forecast Accuracy': 'Precisão da Previsão',
  'Model performance metrics (when available)': 'Métricas de desempenho do modelo (quando disponível)',
  'Mean Absolute Error': 'Erro Médio Absoluto',
  'Mean Absolute % Error': 'Erro Médio Absoluto %',
  'Root Mean Squared Error': 'Raiz do Erro Quadrático Médio',
  '7 Days': '7 Dias',
  '30 Days': '30 Dias',
  '90 Days': '90 Dias',
};

// Spanish translations
const esTranslations = {
  // Common
  'Today': 'Hoy',
  'Last 7 days': 'Últimos 7 días',
  'Last 30 days': 'Últimos 30 días',
  'Last 12 months': 'Últimos 12 meses',
  'Time Period': 'Período',
  'Category': 'Categoría',
  'All Categories': 'Todas las Categorías',
  'Event Type': 'Tipo de Evento',
  'All Event Types': 'Todos los Tipos de Evento',
  'Refresh': 'Actualizar',
  'English': 'Inglés',
  'Português': 'Portugués',
  'Español': 'Español',
  
  // Analytics - LTV
  'Loading LTV analytics...': 'Cargando analytics de LTV...',
  'Failed to load LTV analytics': 'Error al cargar analytics de LTV',
  'Average LTV': 'LTV Promedio',
  'Customer lifetime value': 'Valor de vida del cliente',
  'Total Customers': 'Total de Clientes',
  'Unique customers analyzed': 'Clientes únicos analizados',
  'Avg Orders/Customer': 'Promedio de Pedidos/Cliente',
  'Average purchase frequency': 'Frecuencia promedio de compra',
  'Recurring Rate': 'Tasa de Recurrencia',
  '{count} repeat customers': '{count} clientes recurrentes',
  'LTV Distribution': 'Distribución de LTV',
  'Customer segments by lifetime value': 'Segmentos de clientes por valor de vida',
  'LTV by Customer Segment': 'LTV por Segmento de Cliente',
  'Average LTV by customer type': 'LTV promedio por tipo de cliente',
  'Avg LTV': 'LTV Promedio',
  'Customers': 'Clientes',
  'Revenue': 'Ingresos',
  'Top Customers by LTV': 'Principales Clientes por LTV',
  'Highest lifetime value customers': 'Clientes con mayor valor de vida',
  'CUSTOMER': 'CLIENTE',
  'ORDERS': 'PEDIDOS',
  'LTV': 'LTV',
  'AVG ORDER VALUE': 'VALOR PROMEDIO DEL PEDIDO',
  'FREQUENCY': 'FRECUENCIA',
  'STATUS': 'ESTADO',
  'Recurring': 'Recurrente',
  'New': 'Nuevo',
  'orders/mo': 'pedidos/mes',
  'Anonymous': 'Anónimo',
  'No Customer Data': 'Sin Datos de Clientes',
  'No customer data available in the selected period': 'No hay datos de cliente disponibles en el período seleccionado',
  'No customers found': 'No se encontraron clientes',
  'Try selecting a different time period.': 'Intente seleccionar un período diferente.',
  'High LTV': 'LTV Alto',
  'Medium LTV': 'LTV Medio',
  'Low LTV': 'LTV Bajo',
  
  // Analytics - CAC
  'Loading CAC analytics...': 'Cargando analytics de CAC...',
  'Failed to load CAC analytics': 'Error al cargar analytics de CAC',
  'Average CAC': 'CAC Promedio',
  'Customer acquisition cost': 'Costo de adquisición de cliente',
  'LTV:CAC Ratio': 'Relación LTV:CAC',
  'Excellent': 'Excelente',
  'Good': 'Bueno',
  'Needs Improvement': 'Necesita Mejorar',
  'New Customers': 'Nuevos Clientes',
  'Acquired in period': 'Adquiridos en el período',
  'Total Marketing Spend': 'Gasto Total de Marketing',
  'Estimated spend': 'Gasto estimado',
  'Acquisition Efficiency': 'Eficiencia de Adquisición',
  'LTV:CAC Ratio: {ratio}:1': 'Relación LTV:CAC: {ratio}:1',
  'Target: 3:1 or higher': 'Objetivo: 3:1 o superior',
  '{ratio}:1 Ratio': 'Relación {ratio}:1',
  '2:1 (Good)': '2:1 (Bueno)',
  '3:1 (Excellent)': '3:1 (Excelente)',
  '5:1+': '5:1+',
  'CAC by Acquisition Channel': 'CAC por Canal de Adquisición',
  'Customer acquisition cost by channel': 'Costo de adquisición de cliente por canal',
  'CAC': 'CAC',
  'LTV:CAC': 'LTV:CAC',
  'Conversions': 'Conversiones',
  'Channel Performance': 'Rendimiento del Canal',
  'Detailed metrics by channel': 'Métricas detalladas por canal',
  'CHANNEL': 'CANAL',
  'SESSIONS': 'SESIONES',
  'CONVERSIONS': 'CONVERSIONES',
  'CONVERSION RATE': 'TASA DE CONVERSIÓN',
  'ESTIMATED CAC': 'CAC ESTIMADO',
  'LTV:CAC RATIO': 'RELACIÓN LTV:CAC',
  'Needs Work': 'Necesita Trabajo',
  'No Channel Data': 'Sin Datos de Canal',
  'No acquisition channel data available in the selected period': 'No hay datos de canal de adquisición disponibles en el período seleccionado',
  'No channel data found': 'No se encontraron datos de canal',
  'Try selecting a different time period.': 'Intente seleccionar un período diferente.',
  
  // Analytics - Retention
  'Loading retention analytics...': 'Cargando analytics de retención...',
  'Failed to load retention analytics': 'Error al cargar analytics de retención',
  'Retention Rate': 'Tasa de Retención',
  '{count} returning customers': '{count} clientes recurrentes',
  'Churn Rate': 'Tasa de Abandono',
  '{count} churned customers': '{count} clientes que abandonaron',
  'Avg Purchase Frequency': 'Frecuencia Promedio de Compra',
  'Orders per customer': 'Pedidos por cliente',
  'Avg Days Between Orders': 'Promedio de Días Entre Pedidos',
  'For returning customers': 'Para clientes recurrentes',
  'New Customers': 'Nuevos Clientes',
  'First-time buyers': 'Compradores por primera vez',
  'Returning Customers': 'Clientes Recurrentes',
  'Repeat buyers': 'Compradores recurrentes',
  'Total Customers': 'Total de Clientes',
  'All customers': 'Todos los clientes',
  'Retention Rates by Period': 'Tasas de Retención por Período',
  'Customer retention after first purchase': 'Retención de clientes después de la primera compra',
  'Retention Rate': 'Tasa de Retención',
  'Cohort Retention Analysis': 'Análisis de Retención por Cohorte',
  'Retention rates by customer cohort (month of first purchase)': 'Tasas de retención por cohorte de cliente (mes de la primera compra)',
  'Retention': 'Retención',
  'Cohort Details': 'Detalles de la Cohorte',
  'Detailed retention metrics by cohort': 'Métricas detalladas de retención por cohorte',
  'COHORT': 'COHORTE',
  'CUSTOMERS': 'CLIENTES',
  'D30 RETENTION': 'RETENCIÓN D30',
  'D60 RETENTION': 'RETENCIÓN D60',
  'D90 RETENTION': 'RETENCIÓN D90',
  'No Cohort Data': 'Sin Datos de Cohorte',
  'No cohort data available in the selected period': 'No hay datos de cohorte disponibles en el período seleccionado',
  'No cohorts found': 'No se encontraron cohortes',
  
  // Analytics - Abandonment Prediction
  'Loading abandonment predictions...': 'Cargando predicciones de abandono...',
  'Failed to load abandonment predictions': 'Error al cargar predicciones de abandono',
  'high-risk session{plural} detected': 'sesión{plural} de alto riesgo detectada',
  'Consider implementing intervention strategies for these sessions.': 'Considere implementar estrategias de intervención para estas sesiones.',
  'Average Risk Score': 'Puntuación Promedio de Riesgo',
  'sessions analyzed': 'sesiones analizadas',
  'High Risk Sessions': 'Sesiones de Alto Riesgo',
  'of total': 'del total',
  'Typical Checkout Time': 'Tiempo Típico de Checkout',
  'Based on historical data': 'Basado en datos históricos',
  'Avg Checkout Time': 'Tiempo Promedio de Checkout',
  'Actual average time': 'Tiempo promedio real',
  'Risk Distribution': 'Distribución de Riesgo',
  'Sessions by risk level': 'Sesiones por nivel de riesgo',
  'Abandonment Rate by Risk Level': 'Tasa de Abandono por Nivel de Riesgo',
  'Actual abandonment rates by predicted risk': 'Tasas reales de abandono por riesgo previsto',
  'Abandonment Rate': 'Tasa de Abandono',
  'Total': 'Total',
  'Abandoned': 'Abandonado',
  'High Risk Sessions': 'Sesiones de Alto Riesgo',
  'Sessions with high or critical abandonment risk': 'Sesiones con riesgo alto o crítico de abandono',
  'SESSION': 'SESIÓN',
  'RISK SCORE': 'PUNTUACIÓN DE RIESGO',
  'RISK LEVEL': 'NIVEL DE RIESGO',
  'CURRENT STEP': 'PASO ACTUAL',
  'DURATION': 'DURACIÓN',
  'ERRORS': 'ERRORS',
  'RECOMMENDATIONS': 'RECOMENDACIONES',
  'Completed': 'Completado',
  'Active': 'Activo',
  'No High Risk Sessions': 'Sin Sesiones de Alto Riesgo',
  'No high-risk sessions detected in the selected period': 'No se detectaron sesiones de alto riesgo en el período seleccionado',
  'All sessions look good!': '¡Todas las sesiones están bien!',
  'No high-risk abandonment patterns detected.': 'No se detectaron patrones de abandono de alto riesgo.',
  'Low': 'Bajo',
  'Medium': 'Medio',
  'High': 'Alto',
  'Critical': 'Crítico',
  
  // Analytics - Cohorts
  'Loading cohorts analysis...': 'Cargando análisis de cohortes...',
  'Failed to load cohorts analysis': 'Error al cargar análisis de cohortes',
  'Total Cohorts': 'Total de Cohortes',
  'Cohorts analyzed': 'Cohortes analizadas',
  'Avg {count} per cohort': 'Promedio de {count} por cohorte',
  'Average LTV': 'LTV Promedio',
  'Per cohort': 'Por cohorte',
  'M1 Retention': 'Retención M1',
  'First month retention': 'Retención del primer mes',
  'Average Retention Trend': 'Tendencia Promedio de Retención',
  'Retention rate by period (months since first purchase)': 'Tasa de retención por período (meses desde la primera compra)',
  'Retention Rate': 'Tasa de Retención',
  'Cohort Retention Matrix': 'Matriz de Retención de Cohortes',
  'Retention rates by cohort and period': 'Tasas de retención por cohorte y período',
  'COHORT': 'COHORTE',
  'SIZE': 'TAMAÑO',
  'AVG LTV': 'LTV PROMEDIO',
  'Cohort LTV Comparison': 'Comparación de LTV por Cohorte',
  'Average LTV by cohort': 'LTV promedio por cohorte',
  'Cohort Size': 'Tamaño de la Cohorte',
  'No Cohort Data': 'Sin Datos de Cohorte',
  'No cohort data available in the selected period': 'No hay datos de cohorte disponibles en el período seleccionado',
  'No cohorts found': 'No se encontraron cohortes',
  'Try selecting a longer time period (month or year).': 'Intente seleccionar un período más largo (mes o año).',
  
  // Analytics - Segments
  'Loading segments analysis...': 'Cargando análisis de segmentos...',
  'Failed to load segments analysis': 'Error al cargar análisis de segmentos',
  'Total Customers': 'Total de Clientes',
  'Across all segments': 'En todos los segmentos',
  'Overall Avg LTV': 'LTV Promedio General',
  'Average lifetime value': 'Valor promedio del ciclo de vida',
  'Average AOV': 'AOV Promedio',
  'Average order value': 'Valor promedio del pedido',
  'Avg Orders': 'Promedio de Pedidos',
  'Orders per customer': 'Pedidos por cliente',
  'Customer Segments Distribution': 'Distribución de Segmentos de Clientes',
  'Percentage of customers in each segment': 'Porcentaje de clientes en cada segmento',
  'LTV by Segment': 'LTV por Segmento',
  'Average lifetime value and AOV by customer segment': 'Valor promedio del ciclo de vida y AOV por segmento de cliente',
  'Avg LTV': 'LTV Promedio',
  'Avg AOV': 'AOV Promedio',
  'Customers': 'Clientes',
  'Segment Share': 'Participación del Segmento',
  'Total Revenue': 'Ingresos Totales',
  'Segment Details': 'Detalles del Segmento',
  'Detailed metrics for each customer segment': 'Métricas detalladas para cada segmento de cliente',
  'SEGMENT': 'SEGMENTO',
  'SEGMENT SHARE': 'PARTICIPACIÓN DEL SEGMENTO',
  'AVG LTV': 'LTV PROMEDIO',
  'AVG AOV': 'AOV PROMEDIO',
  'AVG ORDERS': 'PROMEDIO DE PEDIDOS',
  'No Segment Data': 'Sin Datos de Segmento',
  'No segment data available in the selected period': 'No hay datos de segmento disponibles en el período seleccionado',
  'No segments found': 'No se encontraron segmentos',
  'Try selecting a different time period.': 'Intente seleccionar un período diferente.',
  'VIP Customers': 'Clientes VIP',
  'Frequent Buyers': 'Compradores Frecuentes',
  'New Customers': 'Nuevos Clientes',
  'At-Risk Customers': 'Clientes en Riesgo',
  'Dormant Customers': 'Clientes Inactivos',
  
  // Analytics - Optimization ROI
  'Loading optimization ROI...': 'Cargando ROI de optimización...',
  'Failed to load optimization ROI': 'Error al cargar ROI de optimización',
  'Optimization Date': 'Fecha de Optimización',
  'ROI Summary': 'Resumen de ROI',
  'ROI': 'ROI',
  'Additional Revenue': 'Ingresos Adicionales',
  'Revenue Change': 'Cambio de Ingresos',
  'increase': 'aumento',
  'decrease': 'disminución',
  'Conversion Rate Change': 'Cambio en la Tasa de Conversión',
  'Additional Orders': 'Pedidos Adicionales',
  'Orders gained': 'Pedidos ganados',
  'AOV Change': 'Cambio de AOV',
  'change': 'cambio',
  'Before Period': 'Período Anterior',
  'After Period': 'Período Posterior',
  'Sessions': 'Sesiones',
  'Conversions': 'Conversiones',
  'Conversion Rate': 'Tasa de Conversión',
  'Revenue': 'Ingresos',
  'Orders': 'Pedidos',
  'AOV': 'AOV',
  'Impact Summary': 'Resumen de Impacto',
  'Detailed changes breakdown': 'Desglose detallado de cambios',
  'Revenue Impact': 'Impacto en los Ingresos',
  'Conversion Impact': 'Impacto en la Conversión',
  'Additional Orders': 'Pedidos Adicionales',
  'additional revenue': 'ingresos adicionales',
  'pp': 'pp',
  
  // Analytics - Friction Score
  'Loading friction score...': 'Cargando índice de fricción...',
  'Failed to load friction score': 'Error al cargar índice de fricción',
  'Average Friction Score': 'Índice Promedio de Fricción',
  'sessions analyzed': 'sesiones analizadas',
  'High Friction Sessions': 'Sesiones de Alta Fricción',
  'of total': 'del total',
  'Low Friction Conversion': 'Conversión de Baja Fricción',
  'High Friction Conversion': 'Conversión de Alta Fricción',
  'Conversion rate': 'Tasa de conversión',
  'Friction Score Trend': 'Tendencia del Índice de Fricción',
  'Average friction score and conversion rate over time': 'Índice promedio de fricción y tasa de conversión a lo largo del tiempo',
  'Friction Score': 'Índice de Fricción',
  'Friction Distribution': 'Distribución de Fricción',
  'Sessions by friction level': 'Sesiones por nivel de fricción',
  'Friction Breakdown': 'Análisis de Fricción',
  'Contributors to friction score': 'Contribuyentes al índice de fricción',
  'High Friction Sessions': 'Sesiones de Alta Fricción',
  'Sessions with high or critical friction scores': 'Sesiones con índices altos o críticos de fricción',
  'SESSION': 'SESIÓN',
  'FRICTION SCORE': 'ÍNDICE DE FRICCIÓN',
  'LEVEL': 'NIVEL',
  'DURATION': 'DURACIÓN',
  'ERRORS': 'ERRORS',
  'BACK NAVS': 'NAVEGACIONES ATRÁS',
  'CONVERSION': 'CONVERSIÓN',
  'Yes': 'Sí',
  'No': 'No',
  'No High Friction Sessions': 'Sin Sesiones de Alta Fricción',
  'No high-friction sessions detected in the selected period': 'No se detectaron sesiones de alta fricción en el período seleccionado',
  'Low friction detected!': '¡Baja fricción detectada!',
  'No high-friction patterns found.': 'No se encontraron patrones de alta fricción.',
  'Low': 'Bajo',
  'Medium': 'Medio',
  'High': 'Alto',
  'Critical': 'Crítico',
  'Time': 'Tiempo',
  'Navigation': 'Navegación',
  'Completion': 'Finalización',
  
  // Analytics - Revenue Forecast
  'Loading revenue forecast...': 'Cargando pronóstico de ingresos...',
  'Failed to load revenue forecast': 'Error al cargar pronóstico de ingresos',
  '7-Day Forecast': 'Pronóstico de 7 Días',
  '30-Day Forecast': 'Pronóstico de 30 Días',
  '90-Day Forecast': 'Pronóstico de 90 Días',
  'Next 7 days': 'Próximos 7 días',
  'Next 30 days': 'Próximos 30 días',
  'Next 90 days': 'Próximos 90 días',
  'Trend': 'Tendencia',
  '/day': '/día',
  'Revenue Forecast': 'Pronóstico de Ingresos',
  'Historical data and forecasted revenue with confidence intervals': 'Datos históricos e ingresos pronosticados con intervalos de confianza',
  'Historical Revenue': 'Ingresos Históricos',
  'Forecast': 'Pronóstico',
  'Upper Bound': 'Límite Superior',
  'Lower Bound': 'Límite Inferior',
  'Forecast Summary': 'Resumen del Pronóstico',
  'Revenue projections by period': 'Proyecciones de ingresos por período',
  'Average Daily Forecast': 'Pronóstico Promedio Diario',
  'Historical Summary': 'Resumen Histórico',
  'Past performance metrics': 'Métricas de rendimiento pasado',
  'Total Historical Revenue': 'Ingresos Históricos Totales',
  'Average Daily Revenue': 'Ingresos Promedio Diarios',
  'Daily Growth': 'Crecimiento Diario',
  'Forecast Accuracy': 'Precisión del Pronóstico',
  'Model performance metrics (when available)': 'Métricas de rendimiento del modelo (cuando esté disponible)',
  'Mean Absolute Error': 'Error Medio Absoluto',
  'Mean Absolute % Error': 'Error Medio Absoluto %',
  'Root Mean Squared Error': 'Raíz del Error Cuadrático Medio',
  '7 Days': '7 Días',
  '30 Days': '30 Días',
  '90 Days': '90 Días',
};

// Pricing translations
const pricingTranslations = {
  ptBR: {
    'Pricing': 'Preços',
    'Simple, transparent pricing for businesses of all sizes': 'Preços simples e transparentes para empresas de todos os tamanhos',
    'Starter': 'Inicial',
    'Perfect for small stores getting started': 'Perfeito para pequenas lojas começando',
    '$200': '$200',
    '1%': '1%',
    'Bolt Core': 'Bolt Core',
    'BoltFlow Basic': 'BoltFlow Basic',
    'Professional': 'Profissional',
    'For growing businesses that need advanced features': 'Para empresas em crescimento que precisam de recursos avançados',
    '$500': '$500',
    '0.5%': '0,5%',
    'BoltFlow Complete': 'BoltFlow Complete',
    'BoltGuard': 'BoltGuard',
    'BoltMetrics': 'BoltMetrics',
    'Enterprise': 'Empresarial',
    'Custom solutions for large enterprises': 'Soluções personalizadas para grandes empresas',
    'Custom': 'Personalizado',
    'All Features': 'Todos os Recursos',
    'BoltX AI': 'BoltX AI',
    'Priority Support': 'Suporte Prioritário',
    'Start Free Trial': 'Iniciar Teste Grátis',
    'Contact Sales': 'Falar com Vendas',
    'Get Started': 'Começar',
    'Compare Plans': 'Comparar Planos',
    '/month': '/mês',
    'transaction fee': 'taxa de transação',
  },
  es: {
    'Pricing': 'Precios',
    'Simple, transparent pricing for businesses of all sizes': 'Precios simples y transparentes para empresas de todos los tamaños',
    'Starter': 'Inicial',
    'Perfect for small stores getting started': 'Perfecto para tiendas pequeñas que comienzan',
    '$200': '$200',
    '1%': '1%',
    'Bolt Core': 'Bolt Core',
    'BoltFlow Basic': 'BoltFlow Basic',
    'Professional': 'Profesional',
    'For growing businesses that need advanced features': 'Para empresas en crecimiento que necesitan funciones avanzadas',
    '$500': '$500',
    '0.5%': '0,5%',
    'BoltFlow Complete': 'BoltFlow Complete',
    'BoltGuard': 'BoltGuard',
    'BoltMetrics': 'BoltMetrics',
    'Enterprise': 'Empresarial',
    'Custom solutions for large enterprises': 'Soluciones personalizadas para grandes empresas',
    'Custom': 'Personalizado',
    'All Features': 'Todas las Funciones',
    'BoltX AI': 'BoltX AI',
    'Priority Support': 'Soporte Prioritario',
    'Start Free Trial': 'Iniciar Prueba Gratuita',
    'Contact Sales': 'Contactar Ventas',
    'Get Started': 'Comenzar',
    'Compare Plans': 'Comparar Planes',
    '/month': '/mes',
    'transaction fee': 'tarifa de transacción',
  }
};

function translateValue(value, lang) {
  if (typeof value !== 'string') return value;
  
  const translations = lang === 'ptBR' ? ptBRTranslations : esTranslations;
  const pricing = lang === 'ptBR' ? pricingTranslations.ptBR : pricingTranslations.es;
  
  // Check direct translations
  if (translations[value]) return translations[value];
  if (pricing[value]) return pricing[value];
  
  // Return original if no translation found
  return value;
}

function deepTranslate(obj, lang, path = '') {
  const result = {};
  for (const key in obj) {
    const currentPath = path ? `${path}.${key}` : key;
    if (typeof obj[key] === 'object' && obj[key] !== null && !Array.isArray(obj[key])) {
      result[key] = deepTranslate(obj[key], lang, currentPath);
    } else {
      result[key] = translateValue(obj[key], lang);
    }
  }
  return result;
}

// Read existing files to preserve structure
const ptBR = JSON.parse(fs.readFileSync('src/i18n/messages/pt-BR.json', 'utf8'));
const es = JSON.parse(fs.readFileSync('src/i18n/messages/es.json', 'utf8'));

// Merge English structure and apply translations
function mergeAndTranslate(target, source, lang) {
  for (const key in source) {
    if (!target[key]) {
      target[key] = typeof source[key] === 'object' && source[key] !== null && !Array.isArray(source[key]) 
        ? {} 
        : translateValue(source[key], lang);
    }
    if (typeof source[key] === 'object' && source[key] !== null && !Array.isArray(source[key])) {
      if (!target[key]) target[key] = {};
      mergeAndTranslate(target[key], source[key], lang);
    } else if (target[key] === source[key]) {
      // If value is still in English, translate it
      target[key] = translateValue(source[key], lang);
    }
  }
  return target;
}

// Apply translations
const ptBRFinal = mergeAndTranslate(ptBR, en, 'ptBR');
const esFinal = mergeAndTranslate(es, en, 'es');

// Write files
fs.writeFileSync('src/i18n/messages/pt-BR.json', JSON.stringify(ptBRFinal, null, 2) + '\n\n');
fs.writeFileSync('src/i18n/messages/es.json', JSON.stringify(esFinal, null, 2) + '\n\n');

console.log('✓ Translation files updated');
console.log('All missing keys have been added and translated');

